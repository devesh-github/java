package Hello;
    
import javax.naming.Context;
import javax.naming.InitialContext;
import java.util.Properties;
    
/**
 * This class is an example of client code that invokes
 * methods on a simple stateless session bean.
 */
public class HelloClient { 
    
     public static void main(String[] args) throws Exception { 
          
    	 Properties properties = new Properties();		
    	 properties.put("java.naming.factory.initial","org.jnp.interfaces.NamingContextFactory");		
    	 properties.put("java.naming.factory.url.pkgs","=org.jboss.naming:org.jnp.interfaces");		
    	 properties.put("java.naming.provider.url","localhost:1099");		
    	 
    	 

          Context ctx = new InitialContext(properties);
          System.out.println("Got context");
          Object obj = ctx.lookup("hello/Hello");
          System.out.println("Got reference");
          HelloHome home = (HelloHome) javax.rmi.PortableRemoteObject.narrow(obj, HelloHome.class);
          HelloInterFace hello = home.create();
          System.out.println("Created Home object");
          /*
           * Call the hello() method on the EJB object.  The
           * EJB object will delegate the call to the bean,
           * receive the result, and return it to us.
           *
           * We then print the result to the screen.
           */
          System.out.println(hello.hello());
    
          /*
           * Done with EJB Object, so remove it.
           * The container will destroy the EJB object.
           */
          hello.remove();
     } 
} 

